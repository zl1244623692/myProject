<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
            <title>
                Document
            </title>
            <link href="https://cdn.bootcss.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet">
            </link>
        </meta>
    </head>
    <body>
        <!-- Button trigger modal -->
        <button class="btn btn-primary btn-lg" data-target="#myModal" data-toggle="modal" type="button">
            注册
        </button>
        <!-- Modal -->
        <div aria-labelledby="myModalLabel" class="modal fade" id="myModal" role="dialog" tabindex="-1">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <button aria-label="Close" class="close cancelVal" data-dismiss="modal" type="button">
                            <span aria-hidden="true">
                                ×
                            </span>
                        </button>
                        <h4 class="modal-title" id="myModalLabel">
                            注册
                        </h4>
                    </div>
                    <div class="modal-body">
                        <form class="form-horizontal">
                            <div class="form-group">
                                <label class="col-sm-2 control-label" for="inputEmail3">
                                    Email
                                </label>
                                <div class="col-sm-10">
                                    <input class="form-control" id="inputEmail3" placeholder="Email" type="email">
                                    </input>
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="col-sm-2 control-label" for="inputPassword3">
                                    Password
                                </label>
                                <div class="col-sm-10">
                                    <input class="form-control" id="inputPassword3" placeholder="Password" type="password">
                                    </input>
                                </div>
                            </div>
                        </form>
                    </div>
                    <div class="modal-footer">
                        <button class="btn btn-default cancelVal" data-dismiss="modal" type="button">
                            关闭
                        </button>
                        <button class="btn btn-primary" data-loading-text="Loading..." id="myButton" type="button">
                            注册
                        </button>
                    </div>
                </div>
            </div>
        </div>
        <script src="http://apps.bdimg.com/libs/jquery/2.1.4/jquery.min.js">
        </script>
        <script src="https://cdn.bootcss.com/bootstrap/3.3.7/js/bootstrap.min.js">
        </script>
        <script>
            var emailReg = /^\w+@\w+(\.[a-zA-Z]{2,3}){1,2}$/;
			var keyReg = /^[a-zA-Z0-9]{4,10}$/;
			var obj = {
				email : false,
				password : false
			}

			$('#inputEmail3').on('blur', function() {
				obj.email = emailReg.test($(this).val());
				if(obj.email) {
					$(this).parents('.form-group').removeClass('has-error').addClass('has-success');
				}else {
					$(this).parents('.form-group').removeClass('has-success').addClass('has-error');
				}
			})

			$('#inputPassword3').on('blur', function() {
				obj.password = keyReg.test($(this).val());
				if(obj.password) {
					$(this).parents('.form-group').removeClass('has-error').addClass('has-success');
				}else {
					$(this).parents('.form-group').removeClass('has-success').addClass('has-error');
				}
			})

			$('#myButton').on('click', function () {
			    if(obj.email && obj.password) {
			    	var $btn = $(this).button('loading');
				    setTimeout(function(){
				    	 $btn.button('reset');
				    },2000)
			    }
			})

			$('.cancelVal').on('click', function() {
				$('.form-group').find($('input')).val('');
				$('.form-group').removeClass('has-success has-error');
			})
        </script>
    </body>
</html>